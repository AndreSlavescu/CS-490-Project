<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrubFinder - System Architecture</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        .diagram {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #1a1a2e;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .layer {
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            position: relative;
        }
        .layer-title {
            position: absolute;
            top: -12px;
            left: 20px;
            background: white;
            padding: 0 10px;
            font-weight: 600;
            font-size: 14px;
            color: #666;
        }
        .client-layer { background: #e3f2fd; border: 2px solid #2196f3; }
        .gateway-layer { background: #fff3e0; border: 2px solid #ff9800; }
        .service-layer { background: #e8f5e9; border: 2px solid #4caf50; }
        .ml-layer { background: #fce4ec; border: 2px solid #e91e63; }
        .data-layer { background: #f3e5f5; border: 2px solid #9c27b0; }
        .external-layer { background: #e0f7fa; border: 2px solid #00bcd4; }

        .components {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .component {
            background: white;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 15px 25px;
            text-align: center;
            min-width: 140px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .component-name {
            font-weight: 600;
            font-size: 14px;
            color: #1a1a2e;
        }
        .component-desc {
            font-size: 11px;
            color: #666;
            margin-top: 5px;
        }
        .component.highlight {
            border-color: #2196f3;
            background: #e3f2fd;
        }
        .component.ml {
            border-color: #e91e63;
            background: #fce4ec;
        }
        .component.db {
            border-color: #9c27b0;
            background: #f3e5f5;
            border-radius: 0 0 20px 20px;
        }
        .arrow-section {
            text-align: center;
            padding: 10px;
            color: #666;
            font-size: 24px;
        }
        .sub-components {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 15px;
        }
        .sub-component {
            background: rgba(255,255,255,0.7);
            border: 1px dashed #999;
            border-radius: 6px;
            padding: 10px 15px;
            font-size: 12px;
        }
        .legend {
            margin-top: 30px;
            padding: 20px;
            background: #fafafa;
            border-radius: 8px;
        }
        .legend h3 {
            margin-bottom: 15px;
            color: #333;
        }
        .legend-items {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid;
        }
    </style>
</head>
<body>
    <div class="diagram">
        <h1>GrubFinder - System Architecture</h1>

        <!-- Client Layer -->
        <div class="layer client-layer">
            <span class="layer-title">Client Layer</span>
            <div class="components">
                <div class="component">
                    <div class="component-name">Mobile App</div>
                    <div class="component-desc">iOS / Android</div>
                </div>
                <div class="component">
                    <div class="component-name">Web App</div>
                    <div class="component-desc">React PWA</div>
                </div>
            </div>
        </div>

        <div class="arrow-section">&#8595; &#8595; &#8595;</div>

        <!-- Gateway Layer -->
        <div class="layer gateway-layer">
            <span class="layer-title">Gateway Layer</span>
            <div class="components">
                <div class="component highlight">
                    <div class="component-name">Load Balancer</div>
                    <div class="component-desc">Auto-scaling</div>
                </div>
                <div class="component highlight">
                    <div class="component-name">API Gateway</div>
                    <div class="component-desc">Rate Limiting / Auth</div>
                </div>
                <div class="component highlight">
                    <div class="component-name">CDN</div>
                    <div class="component-desc">Geo-distributed</div>
                </div>
            </div>
        </div>

        <div class="arrow-section">&#8595; &#8595; &#8595;</div>

        <!-- Service Layer -->
        <div class="layer service-layer">
            <span class="layer-title">Microservices Layer</span>
            <div class="components">
                <div class="component">
                    <div class="component-name">User Service</div>
                    <div class="component-desc">Auth & Profiles</div>
                </div>
                <div class="component">
                    <div class="component-name">Restaurant Service</div>
                    <div class="component-desc">Menu & Location</div>
                </div>
                <div class="component">
                    <div class="component-name">Nutrition Service</div>
                    <div class="component-desc">Calorie Tracking</div>
                </div>
                <div class="component">
                    <div class="component-name">Recommendation Service</div>
                    <div class="component-desc">ML Predictions</div>
                </div>
            </div>
        </div>

        <div class="arrow-section">&#8595; &#8595; &#8595;</div>

        <!-- ML/AI Layer -->
        <div class="layer ml-layer">
            <span class="layer-title">AI/ML Layer</span>
            <div class="components">
                <div class="component ml">
                    <div class="component-name">Cerebras</div>
                    <div class="component-desc">GPT-oss 120B</div>
                </div>
                <div class="component ml">
                    <div class="component-name">Groq</div>
                    <div class="component-desc">Qwen-2.5-32B VLM</div>
                </div>
                <div class="component ml">
                    <div class="component-name">Self-Hosted LLM</div>
                    <div class="component-desc">Prefix Cache</div>
                </div>
            </div>
            <div class="sub-components">
                <div class="sub-component">Image Analysis (VLM)</div>
                <div class="sub-component">Menu Parsing</div>
                <div class="sub-component">Nutrition Estimation</div>
                <div class="sub-component">Food Recommendations</div>
            </div>
        </div>

        <div class="arrow-section">&#8595; &#8595; &#8595;</div>

        <!-- Data Layer -->
        <div class="layer data-layer">
            <span class="layer-title">Data Layer</span>
            <div class="components">
                <div class="component db">
                    <div class="component-name">PostgreSQL</div>
                    <div class="component-desc">User & Restaurant Data</div>
                </div>
                <div class="component db">
                    <div class="component-name">Vector DB</div>
                    <div class="component-desc">Image Embeddings</div>
                </div>
                <div class="component db">
                    <div class="component-name">Redis Cache</div>
                    <div class="component-desc">Session & Prefix Cache</div>
                </div>
                <div class="component db">
                    <div class="component-name">S3 Storage</div>
                    <div class="component-desc">Images & Assets</div>
                </div>
            </div>
        </div>

        <div class="arrow-section">&#8596; &#8596; &#8596;</div>

        <!-- External APIs -->
        <div class="layer external-layer">
            <span class="layer-title">External APIs</span>
            <div class="components">
                <div class="component">
                    <div class="component-name">Google Maps API</div>
                    <div class="component-desc">Location & Places</div>
                </div>
                <div class="component">
                    <div class="component-name">GPS Services</div>
                    <div class="component-desc">User Location</div>
                </div>
                <div class="component">
                    <div class="component-name">Menu Scraper</div>
                    <div class="component-desc">Restaurant Menus</div>
                </div>
            </div>
        </div>

        <!-- Legend -->
        <div class="legend">
            <h3>Architecture Notes</h3>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-color" style="background: #e3f2fd; border-color: #2196f3;"></div>
                    <span>Client Applications</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fff3e0; border-color: #ff9800;"></div>
                    <span>Gateway & Load Balancing</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e8f5e9; border-color: #4caf50;"></div>
                    <span>Microservices</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fce4ec; border-color: #e91e63;"></div>
                    <span>AI/ML Processing</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f3e5f5; border-color: #9c27b0;"></div>
                    <span>Data Storage</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e0f7fa; border-color: #00bcd4;"></div>
                    <span>External Services</span>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
